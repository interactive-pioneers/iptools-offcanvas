/*! iptools-offcanvas - v1.0.0 - 2017-05-09
* https://github.com/interactive-pioneers/iptools-offcanvas
* Copyright Â© 2017 Interactive Pioneers GmbH; Licensed GPL-3.0 */

"use strict";function toObject(a){if(null===a||void 0===a)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(a)}function shouldUseNative(){try{if(!Object.assign)return!1;var a=new String("abc");if(a[5]="de","5"===Object.getOwnPropertyNames(a)[0])return!1;for(var b={},c=0;c<10;c++)b["_"+String.fromCharCode(c)]=c;if("0123456789"!==Object.getOwnPropertyNames(b).map(function(a){return b[a]}).join(""))return!1;var d={};return"abcdefghijklmnopqrst".split("").forEach(function(a){d[a]=a}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},d)).join("")}catch(a){return!1}}var getOwnPropertySymbols=Object.getOwnPropertySymbols,hasOwnProperty=Object.prototype.hasOwnProperty,propIsEnumerable=Object.prototype.propertyIsEnumerable;module.exports=shouldUseNative()?Object.assign:function(a,b){for(var c,d,e=toObject(a),f=1;f<arguments.length;f++){c=Object(arguments[f]);for(var g in c)hasOwnProperty.call(c,g)&&(e[g]=c[g]);if(getOwnPropertySymbols){d=getOwnPropertySymbols(c);for(var h=0;h<d.length;h++)propIsEnumerable.call(c,d[h])&&(e[d[h]]=c[d[h]])}}return e},function(a,b){function c(a){a.target===this.element||this.element.contains(a.target)||this.toggle(!1)}function d(){this.settings.closeOnClickOutside&&!this.settings.static&&b.addEventListener("click",this.documentHandler)}function e(){b.removeEventListener("click",this.documentHandler)}function f(a){a.target.IPTOffCanvas.toggle(!0),a.stopPropagation()}function g(a){a.target.IPTOffCanvas.toggle(!1),a.stopPropagation()}function h(a){a.target.IPTOffCanvas.toggle(),a.stopPropagation()}function i(){var a=this;this.element.IPTOffCanvas=a,this.openNodes.forEach(function(b){b.IPTOffCanvas=a,b.addEventListener("click",f)}),this.closeNodes.forEach(function(b){b.IPTOffCanvas=a,b.addEventListener("click",g)}),this.toggleNodes.forEach(function(b){b.IPTOffCanvas=a,b.addEventListener("click",h)})}function j(){this.settings.static&&this.toggle(!0),this.element.classList.add(this.settings.baseClass+p.initialized)}function k(a,f){this.settings=Object.assign({},n,f),this.element=b.getElementById(a),this.initializeHandler=j.bind(this),this.addEventHandler=i.bind(this),this.documentHandler=c.bind(this),this.bindDocHandler=d.bind(this),this.unbindDocHandler=e.bind(this),this.openNodes=b.querySelectorAll("[data-"+l.open+'="'+a+'"]'),this.closeNodes=b.querySelectorAll("[data-"+l.close+'="'+a+'"]'),this.toggleNodes=b.querySelectorAll("[data-"+l.toggle+'="'+a+'"]'),this.element.classList.add(this.settings.baseClass+o[this.settings.type].baseClass),this.addEventHandler(),this.initializeHandler();var g=b.createEvent("CustomEvent");g.initEvent("initialized",!0,!0),this.element.dispatchEvent(g)}var l={open:"offcanvas-open",close:"offcanvas-close",toggle:"offcanvas-toggle"},m=function(){return!0},n={baseClass:"offcanvas",closeOnClickOutside:!1,single:!0,static:!1,staticCloseCondition:m,type:"right"},o={top:{baseClass:"--top",activeClass:"--top--active"},right:{baseClass:"--right",activeClass:"--right--active"},bottom:{baseClass:"--bottom",activeClass:"--bottom--active"},left:{baseClass:"--left",activeClass:"--left--active"}},p={initialized:"--initialized"};k.prototype.getSettings=function(){return this.settings},k.prototype.isActive=function(){return this.element.classList.contains(this.settings.baseClass+o[this.settings.type].activeClass)},k.prototype.toggle=function(a){var c,d,e=this.settings.baseClass+o[this.settings.type].activeClass,f=this;a=void 0===a?!this.isActive():a,this.settings.single&&a&&b.querySelectorAll("."+this.settings.baseClass+p.initialized).forEach(function(a){c=a.IPTOffCanvas,d=c.getSettings(),f.element!==c.element&&c.isActive()&&(!d.static||d.static&&d.staticCloseCondition())&&c.toggle(!1)});var g="";if(a&&!this.isActive()?(g="opened",this.bindDocHandler()):!a&&this.isActive()&&(g="closed",this.unbindDocHandler()),""!==g){var h=b.createEvent("CustomEvent");h.initEvent(g,!0,!0),this.element.dispatchEvent(h)}this.element.classList.toggle(e,a)},k.prototype.destroy=function(){delete this.element.IPTOffCanvas,this.element.classList.remove(this.settings.baseClass+p.initialized),this.element.classList.remove(this.settings.baseClass+o[this.settings.type].baseClass),this.element.classList.remove(this.settings.baseClass+o[this.settings.type].activeClass),this.openNodes.forEach(function(a){delete a.IPTOffCanvas,a.removeEventListener("click",f)}),this.closeNodes.forEach(function(a){delete a.IPTOffCanvas,a.removeEventListener("click",g)}),this.toggleNodes.forEach(function(a){delete a.IPTOffCanvas,a.removeEventListener("click",h)})},a.IPTOffCanvas=k}(window,document);